<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="sample">


<typeAlias  alias="mymap" type="com.uro.common.base.CiHashMap"/>
<typeAlias  alias="string" type="java.lang.String"/>


 <!-- =================== Sample =================== -->
 <select id="samplemap.query1" resultClass="hashmap"><![CDATA[
  SELECT * FROM springtable
 ]]></select>
 
     <select id="samplemap.codelist" resultClass="mymap" parameterClass="mymap"><![CDATA[
SELECT code_id,
       code,
       frst_regist_pnttm,
       frst_register_id,
       last_updt_pnttm,
       last_updusr_id,
       (SELECT COUNT( * ) FROM comtccmmndetailcode where use_at = 'Y') AS total_count
FROM   comtccmmndetailcode
WHERE  use_at = 'Y'
order by code_id asc 
LIMIT #pageSize# offset #pageStart#
 ]]></select> 
 
 
<!-- 

CREATE TABLE `comtccmmncode` (
  `CODE_ID` varchar(6) NOT NULL,
  `CODE_ID_NM` varchar(60) DEFAULT NULL,
  `CODE_ID_DC` varchar(200) DEFAULT NULL,
  `USE_AT` char(1) DEFAULT NULL,
  `CL_CODE` char(3) DEFAULT NULL,
  `FRST_REGIST_PNTTM` datetime DEFAULT NULL,
  `FRST_REGISTER_ID` varchar(20) DEFAULT NULL,
  `LAST_UPDT_PNTTM` datetime DEFAULT NULL,
  `LAST_UPDUSR_ID` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`CODE_ID`),
  UNIQUE KEY `COMTCCMMNCODE_PK` (`CODE_ID`),
  KEY `COMTCCMMNCODE_i01` (`CL_CODE`),
  CONSTRAINT `comtccmmncode_ibfk_1` FOREIGN KEY (`CL_CODE`) REFERENCES `COMTCCMMNCLCODE` (`CL_CODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;






 --> 
 
 
</sqlMap>
